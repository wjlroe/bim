image: "rust:1.36"

before_script:
  - rustup component add rustfmt
  - rustc --version
  - rustfmt --version

precommit:
  script:
    - curl https://pre-commit.com/install-local.py | python -
    - $HOME/bin/pre-commit run --all-files

cargo:
  script:
    - cargo build
    - cargo test
  cache:
    paths:
      - target/
